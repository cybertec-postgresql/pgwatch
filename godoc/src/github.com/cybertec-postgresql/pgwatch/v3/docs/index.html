<!DOCTYPE html><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="theme-color" content="#375EAB"/>

  <title>PgWatch Developer Documentation</title>

<link type="text/css" rel="stylesheet" href="/godoc/lib/godoc/style.css"/>

<script>window.initFuncs = [];</script>
<script src="/godoc/lib/godoc/jquery.js" defer=""></script>




<script>var goVersion = "go1.23.0";</script>
<script src="/godoc/lib/godoc/godocs.js" defer=""></script>

</head>
<body>

<div id="lowframe" style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar"><div class="container">
<div class="top-heading" id="heading-wide"><a href="/godoc/pkg/github.com/cybertec-postgresql/pgwatch/v3/">PgWatch Developer Documentation</a></div>
<div class="top-heading" id="heading-narrow"><a href="/godoc/pkg/github.com/cybertec-postgresql/pgwatch/v3/">PgWatch Developer Documentation</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">â–½</span></a>

</div></div>



<div id="page">
<div class="container">








<div id="nav"></div>


<hr/>
<h2>title: Introduction</h2>
<p>pgwatch is a flexible PostgreSQL-specific monitoring solution, relying
on Grafana dashboards for the UI part. It supports monitoring of almost
all metrics for Postgres versions 11 to 13 out of the box and can be
easily extended to include custom metrics. At the core of the solution
is the metrics gathering daemon written in Go, with many options to
configure the details and aggressiveness of monitoring, types of metrics
storage and the display the metrics.</p>
<h1>Quick start with Docker</h1>
<p>For the fastest setup experience Docker images are provided via Docker
Hub (if new to Docker start
<a href="https://docs.docker.com/get-started/">here</a>). For custom setups see the
<a href="tutorial/custom_installation.md">Custom installations</a> paragraph below or turn to the pre-built DEB / RPM / Tar
packages on the Github Releases
<a href="https://github.com/cybertec-postgresql/pgwatch/releases">page</a>.</p>
<p>Launching the latest pgwatch Docker image with built-in Postgres
metrics storage DB:</p>
<pre><code># run the latest Docker image, exposing Grafana on port 3000 and the administrative web UI on 8080
docker run -d --name pw3 -p 5432:5432 -p 3000:3000 -p 8080:8080 -e PW_TESTDB=true cybertecpostgresql/pgwatch-demo
</code></pre>
<p>After some minutes you could for example open the <a href="http://127.0.0.1:3000/dashboard/db/db-overview">&#34;Database
Overview&#34;</a> dashboard
and start looking at metrics in Grafana. For defining your own
dashboards or making changes you need to log in Grafana as admin (default
user/password: <code>admin</code>/<code>pgwatchadmin</code>).</p>
<p>If you don&#39;t want to add the <code>test</code> database (the pgwatch
configuration DB holding connection strings to monitored DBs and metric
definitions) to monitoring, remove the <code>PW_TESTDB</code> env variable.</p>
<p>Also note that for long term production usage with Docker it&#39;s highly
recommended to use separate <em>volumes</em> for each pgwatch component - see
<a href="tutorial/docker_installation.md">here</a> for a better launch example.</p>
<h1>Typical &#34;pull&#34; architecture</h1>
<p>To get an idea how pgwatch is typically deployed a diagram of the
standard Docker image fetching metrics from a set of Postgres databases
configured via a configuration DB:</p>
<p><a href="gallery/pgwatch_architecture.png"><img src="gallery/pgwatch_architecture.png" alt="pgwatch typical deployment architecture diagram"/></a></p>
<h1>Typical &#34;push&#34; architecture</h1>
<p>A better fit for very dynamic (Cloud) environments might be a more
de-centralized &#34;push&#34; approach or just exposing the metrics over a
port for remote scraping. In that case the only component required would
be the pgwatch metrics collection daemon.</p>
<p><a href="gallery/pgwatch_architecture_push.png"><img src="gallery/pgwatch_architecture_push.png" alt="pgwatch &#34;push&#34; deployment architecture diagram"/></a></p>


<div id="footer">
Build version go1.23.0.<br/>
</div>

</div><!-- .container -->
</div><!-- #page -->


</body></html>